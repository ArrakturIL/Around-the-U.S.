!function(){"use strict";var e={483:function(e,t,s){e.exports=s.p+"9a465d27cc4844854ee1.jpg"},937:function(e,t,s){e.exports=s.p+"4e8e0a1d604782a0dff8.svg"}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,s),i.exports}s.p="",function(){class e{constructor(e,t){this._formElement=t,this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._inputList=Array.from([...this._formElement.querySelectorAll(this._inputSelector)]),this._button=this._formElement.querySelector(this._submitButtonSelector)}_showInputError(e){this._errorElement=this._formElement.querySelector("#".concat(e.id,"-error")),this._errorElement.textContent=e.validationMessage,e.classList.add(this._inputErrorClass),this._errorElement.classList.add(this._errorClass)}_hideInputError(e){this._errorElement=this._formElement.querySelector("#".concat(e.id,"-error")),this._errorElement.textContent="",e.classList.remove(this._inputErrorClass),this._errorElement.classList.remove(this._errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?(this._button.setAttribute("disabled",!0),this._button.classList.add(this._inactiveButtonClass)):(this._button.removeAttribute("disabled"),this._button.classList.remove(this._inactiveButtonClass))}_setEventListeners(){this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._setEventListeners(),this._toggleButtonState()}resetValidation(){this._toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}}function t(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class r{constructor(e){t(this,"_handleEscKey",(e=>{"Escape"===e.key&&this.close()})),t(this,"_handlerClickClose",(e=>{(e.target.classList.contains("popup_open")||e.target.classList.contains("popup__close"))&&this.close()})),this._popupSelector=e,this._popup=document.querySelector(this._popupSelector)}open(){this._popup.classList.add("popup_open"),this.setEventListeners()}close(){this._popup.classList.remove("popup_open"),this.removeEventListeners()}setEventListeners(){this._popup.addEventListener("mousedown",this._handlerClickClose),document.addEventListener("keydown",this._handleEscKey)}removeEventListeners(){this._popup.removeEventListener("mousedown",this._handlerClickClose),document.removeEventListener("keydown",this._handleEscKey)}}class n extends r{constructor(e,t){super(e),this._formElement=this._popup.querySelector(".edit-form"),this._handleSubmit=t,this._inputs=Array.from(this._popup.querySelectorAll(".edit-form__text-input"))}getInputValues(){const e={};return this._inputs.forEach((t=>{e[t.name]=t.value})),e}close(){super.close(),this._formElement.reset()}setEventListeners(){super.setEventListeners(),this._formElement.addEventListener("submit",this._handleSubmit)}removeEventListeners(){super.removeEventListeners(),this._formElement.removeEventListener("submit",this._handleSubmit)}}const i={formSelector:".edit-form",inputSelector:".edit-form__text-input",submitButtonSelector:".edit-form__save",inactiveButtonClass:"edit-form__save_disabled",inputErrorClass:"edit-form__input_type_error",errorClass:"edit-form__error_visible"},o=document.querySelector(".profile__edit-button"),l=document.querySelector(".profile__add-button"),a=document.querySelector(".popup_el_profile"),c=document.querySelector(".popup_el_new-place"),u=document.querySelector("#name"),_=document.querySelector("#about");function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class p{constructor(e,t,s){let{name:r,link:n}=e;d(this,"_deleteCard",(()=>{this._card.remove(),this._card=null})),d(this,"_likeCard",(()=>{this._likeButton.classList.toggle("element__post-like_active")})),this._title=r,this._img=n,this._cardSelector=t,this._handleCardClick=s}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}generateCard(){this._card=this._getTemplate();const e=this._card.querySelector(".element__post-name");return this._cardImg=this._card.querySelector(".element__post-img"),this._deleteButton=this._card.querySelector(".element__delete"),this._likeButton=this._card.querySelector(".element__post-like"),e.textContent=this._title,this._cardImg.src=this._img,this._cardImg.alt=this._title,this._setEventListeners(),this._card}_setEventListeners(){this._deleteButton.addEventListener("click",this._deleteCard),this._likeButton.addEventListener("click",this._likeCard),this._cardImg.addEventListener("click",(()=>{this._handleCardClick()}))}}var m=s(937),h=s(483);document.querySelector("#logo").src=m,document.querySelector("#avatar").src=h;const v=e=>{let{name:t,link:s}=e;return new p({name:t,link:s},"#card-template",(()=>{g.open(t,s)})).generateCard()},E=new e(i,a),S=new e(i,c),f=new class{constructor(e){let{nameSelector:t,aboutSelector:s}=e;this._nameElement=document.querySelector(t),this._aboutElement=document.querySelector(s)}getUserInfo(){const e={};return e.name=this._nameElement.textContent,e.about=this._aboutElement.textContent,e}setUserInfo(e){let{name:t,about:s}=e;this._nameElement.textContent=t,this._aboutElement.textContent=s}}({nameSelector:".profile__name",aboutSelector:".profile__about"}),g=new class extends r{constructor(e){let{popupSelector:t,imageSelector:s,imageTitleSelector:r}=e;super(t),this._imageSelector=s,this._imageElement=this._popup.querySelector(this._imageSelector),this._titleElement=this._popup.querySelector(r)}open(e,t){this._imageElement.src=t,this._titleElement.textContent=e,super.open()}}({popupSelector:".popup_el_preview",imageSelector:".popup__image",imageTitleSelector:".popup__description"}),b=new class{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._renderer=r,this._container=document.querySelector(t)}addItem(e){this._container.prepend(e)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}}({items:[{name:"Yosemite Valley",link:"https://code.s3.yandex.net/web-code/yosemite.jpg"},{name:"Lake Louise",link:"https://code.s3.yandex.net/web-code/lake-louise.jpg"},{name:"Bald Mountains",link:"https://code.s3.yandex.net/web-code/bald-mountains.jpg"},{name:"Latemar",link:"https://code.s3.yandex.net/web-code/latemar.jpg"},{name:"Vanoise National Park",link:"https://code.s3.yandex.net/web-code/vanoise.jpg"},{name:"Lago di Braies",link:"https://code.s3.yandex.net/web-code/lago.jpg"}],renderer:e=>{b.addItem(v({name:e.name,link:e.link}))}},".elements");b.renderItems();const y=new n(".popup_el_profile",(e=>{e.preventDefault();const{name:t,about:s}=y.getInputValues();f.setUserInfo({name:t,about:s}),y.close()})),L=new n(".popup_el_new-place",(e=>{e.preventDefault();const{title:t,link:s}=L.getInputValues();b.addItem(v({name:t,link:s})),L.close()}));o.addEventListener("click",(()=>{y.open(),function(){const{name:e,about:t}=f.getUserInfo();u.value=e,_.value=t}(),E.resetValidation()})),l.addEventListener("click",(()=>{S.resetValidation(),L.open()})),E.enableValidation(),S.enableValidation()}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVMsS0FDeEMwRixFQUFhN0UsT0FyR1YsV0FDSCxNQUFNLEtBQUVhLEVBQUYsTUFBUTZDLEdBQVVQLEVBQVNLLGNBQ2pDbkMsRUFBVVAsTUFBUUQsRUFDbEJTLEVBQVdSLE1BQVE0QyxFQW1HbkJ1QixHQUNBaEMsRUFBcUI1RCxxQkFHekI2QixFQUFrQi9CLGlCQUFpQixTQUFTLEtBQ3hDK0QsRUFBa0I3RCxrQkFDbEIwRixFQUFVL0UsVUFHZGlELEVBQXFCN0QsbUJBQ3JCOEQsRUFBa0I5RCxtQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Fyb3VuZC10aGUtdS5zL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2Fyb3VuZC10aGUtdS5zL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL2Fyb3VuZC10aGUtdS5zLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL2Fyb3VuZC10aGUtdS5zLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9hcm91bmQtdGhlLXUucy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9hcm91bmQtdGhlLXUucy8uL3NyYy9zY3JpcHRzL3V0aWxzL3NldHRpbmdzLmpzIiwid2VicGFjazovL2Fyb3VuZC10aGUtdS5zLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL2Fyb3VuZC10aGUtdS5zLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL2Fyb3VuZC10aGUtdS5zLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9hcm91bmQtdGhlLXUucy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kLXRoZS11LnMvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vYXJvdW5kLXRoZS11LnMvLi9zcmMvc2NyaXB0cy91dGlscy9jYXJkcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjsiLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuLyogPSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSU1QT1JUUyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gKi9cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGRhdGEsIGZvcm1FbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IGRhdGEuZm9ybVNlbGVjdG9yO1xuICAgICAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gZGF0YS5pbnB1dFNlbGVjdG9yO1xuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGRhdGEuc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBkYXRhLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGRhdGEuaW5wdXRFcnJvckNsYXNzO1xuICAgICAgICB0aGlzLl9lcnJvckNsYXNzID0gZGF0YS5lcnJvckNsYXNzO1xuXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oW1xuICAgICAgICAgICAgLi4udGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSxcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgICAgICk7XG4gICAgfVxuICAgIC8vUHJpdmF0ZSBtZXRob2RzXG4gICAgX3Nob3dJbnB1dEVycm9yKGlucHV0KSB7XG4gICAgICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICBgIyR7aW5wdXQuaWR9LWVycm9yYFxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgICAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICB9XG4gICAgX2hpZGVJbnB1dEVycm9yKGlucHV0KSB7XG4gICAgICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICBgIyR7aW5wdXQuaWR9LWVycm9yYFxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIH1cbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXQpID0+ICFpbnB1dC52YWxpZGl0eS52YWxpZCk7XG4gICAgfVxuICAgIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9idXR0b24uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLl9idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vUHVibGljIG1ldGhvZHNcbiAgICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIH1cblxuICAgIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLl9wb3B1cFNlbGVjdG9yID0gcG9wdXBTZWxlY3RvcjtcbiAgICAgICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3BvcHVwU2VsZWN0b3IpO1xuICAgICAgICBcbiAgICB9XG4gICAgb3BlbigpIHtcbiAgICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5cIik7XG4gICAgICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuXCIpO1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuICAgIF9oYW5kbGVFc2NLZXkgPSAoZXZ0KSA9PiB7XG4gICAgICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2hhbmRsZXJDbGlja0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9vcGVuXCIpIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfX2Nsb3NlXCIpKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgICAgIFxuICAgIFxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX2hhbmRsZXJDbGlja0Nsb3NlKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjS2V5KTtcbiAgICB9XG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5faGFuZGxlckNsaWNrQ2xvc2UpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NLZXkpO1xuICAgIH1cbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdC1mb3JtXCIpO1xuICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgICAgICB0aGlzLl9pbnB1dHMgPSBBcnJheS5mcm9tKFxuICAgICAgICAgICAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbChcIi5lZGl0LWZvcm1fX3RleHQtaW5wdXRcIilcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBnZXRJbnB1dFZhbHVlcygpIHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgICAgICAgdmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgICBzdXBlci5jbG9zZSgpO1xuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudC5yZXNldCgpO1xuICAgIH1cblxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZVN1Ym1pdCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHN1cGVyLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5faGFuZGxlU3VibWl0KTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgZm9ybVZhbGlkYXRvckRhdGEgPSB7XG4gICAgZm9ybVNlbGVjdG9yOiBcIi5lZGl0LWZvcm1cIixcbiAgICBpbnB1dFNlbGVjdG9yOiBcIi5lZGl0LWZvcm1fX3RleHQtaW5wdXRcIixcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZWRpdC1mb3JtX19zYXZlXCIsXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJlZGl0LWZvcm1fX3NhdmVfZGlzYWJsZWRcIixcbiAgICBpbnB1dEVycm9yQ2xhc3M6IFwiZWRpdC1mb3JtX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gICAgZXJyb3JDbGFzczogXCJlZGl0LWZvcm1fX2Vycm9yX3Zpc2libGVcIixcbn07XG5cbmV4cG9ydCBjb25zdCBlbGVtZW50c1NldHRpbmdzID0ge1xuICAgIG1haW5Qb3B1cFNlbGVjdG9yOiBcIi5wb3B1cFwiLFxuICAgIGNhcmRMaXN0U2VsZWN0b3I6IFwiLmVsZW1lbnRzXCIsXG4gICAgZWRpdFByb2ZpbGVTZWxlY3RvcjogXCIucG9wdXBfZWxfcHJvZmlsZVwiLFxuICAgIGFkZE5ld0NhcmRTZWxlY3RvcjogXCIucG9wdXBfZWxfbmV3LXBsYWNlXCIsXG4gICAgY2FyZFRlbXBsYXRlU2VsZWN0b3I6IFwiI2NhcmQtdGVtcGxhdGVcIixcbiAgICBjYXJkU2VsZWN0b3I6IFwiLmVsZW1lbnRcIixcbn07XG5cbmV4cG9ydCBjb25zdCBmb3JtU2V0dGluZ3MgPSB7XG4gICAgcHJvZmlsZU5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fbmFtZVwiLFxuICAgIHByb2ZpbGVBYm91dFNlbGVjdG9yOiBcIi5wcm9maWxlX19hYm91dFwiLFxuICAgIGNhcmROYW1lSW5wdXRTZWxlY3RvcjogXCIjdGl0bGVcIixcbiAgICBjYXJkTGlua0lucHV0U2VsZWN0b3I6IFwiI2xpbmtcIixcbiAgICBuYW1lSW5wdXRTZWxlY3RvcjogXCIjbmFtZVwiLFxuICAgIGFib3V0SW5wdXRTZWxlY3RvcjogXCIjYWJvdXRcIixcbiAgICBhZGRGb3JtU2VsZWN0b3I6IFwiLmVkaXQtZm9ybV9lbF9uZXctcGxhY2VcIixcbiAgICBwcm9maWxlRm9ybVNlbGVjdG9yOiBcIi5lZGl0LWZvcm1fZWxfcHJvZmlsZVwiLFxufTtcbmV4cG9ydCBjb25zdCBidXR0b25TZXR0aW5ncyA9IHtcbiAgICBhZGROZXdDYXJkQnV0dG9uU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIixcbiAgICBlZGl0UHJvZmlsZUJ1dHRvblNlbGVjdG9yOiBcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiLFxuICAgIGNsb3NlQnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19jbG9zZVwiLFxufTtcbmV4cG9ydCBjb25zdCBwb3B1cEltYWdlU2V0dGluZ3MgPSB7XG4gICAgcG9wdXBQcmV2aWV3U2VsZWN0b3I6IFwiLnBvcHVwX2VsX3ByZXZpZXdcIixcbiAgICBwb3B1cEltYWdlU2VsZWN0b3I6IFwiLnBvcHVwX19pbWFnZVwiLFxuICAgIHBvcHVwSW1hZ2VUaXRsZVNlbGVjdG9yOiBcIi5wb3B1cF9fZGVzY3JpcHRpb25cIixcbn07XG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuLyogPSAgICAgICAgICAgICAgICAgICAgICAgICAgICBFWFBPUlQgVkFSSUFCTEVTICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gKi9cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4vLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1CVVRUT05TLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vL1xuZXhwb3J0IGNvbnN0IGVkaXRQcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICBcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiXG4pO1xuZXhwb3J0IGNvbnN0IG9wZW5BZGRGb3JtQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IGVkaXRQcm9maWxlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2VsX3Byb2ZpbGVcIik7XG5leHBvcnQgY29uc3QgYWRkTmV3Q2FyZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9lbF9uZXctcGxhY2VcIik7XG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuYW1lXCIpO1xuZXhwb3J0IGNvbnN0IGFib3V0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Fib3V0XCIpO1xuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vL1xuXG5cblxuXG4iLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuLyogPSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSU1QT1JUUyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gKi9cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4vKiA9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDQVJEIENMQVNTICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSAqL1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gICAgY29uc3RydWN0b3Ioe25hbWUsIGxpbmt9LCBjYXJkU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaykge1xuICAgICAgICB0aGlzLl90aXRsZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuX2ltZyA9IGxpbms7XG4gICAgICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIH1cbiAgICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgICAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKVxuICAgICAgICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICAgIH1cbiAgICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgICAgIHRoaXMuX2NhcmQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgICAgICBjb25zdCBjYXJkVGl0bGUgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fcG9zdC1uYW1lXCIpO1xuICAgICAgICB0aGlzLl9jYXJkSW1nID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3Bvc3QtaW1nXCIpO1xuICAgICAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fZGVsZXRlXCIpO1xuICAgICAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3Bvc3QtbGlrZVwiKTtcblxuICAgICAgICBjYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl90aXRsZTtcbiAgICAgICAgdGhpcy5fY2FyZEltZy5zcmMgPSB0aGlzLl9pbWc7XG4gICAgICAgIHRoaXMuX2NhcmRJbWcuYWx0ID0gdGhpcy5fdGl0bGU7XG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmQ7XG4gICAgfVxuICAgIF9kZWxldGVDYXJkID0gKCkgPT4ge1xuICAgICAgICB0aGlzLl9jYXJkLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLl9jYXJkID0gbnVsbDtcbiAgICB9XG5cbiAgICBfbGlrZUNhcmQgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRfX3Bvc3QtbGlrZV9hY3RpdmVcIik7XG4gICAgfVxuXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICB0aGlzLl9kZWxldGVDYXJkKTtcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fbGlrZUNhcmQpXG4gICAgICAgIFxuICAgICAgICB0aGlzLl9jYXJkSW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbi8qID0gICAgICAgICAgICAgICAgICAgICAgICAgICAgIElNUE9SVFMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9ICovXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IHsgaW5pdGlhbENhcmRzIH0gZnJvbSBcIi4uL3NjcmlwdHMvdXRpbHMvY2FyZHMuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCB7XG4gICAgZm9ybVZhbGlkYXRvckRhdGEsXG4gICAgZWxlbWVudHNTZXR0aW5ncyxcbiAgICBmb3JtU2V0dGluZ3MsXG4gICAgcG9wdXBJbWFnZVNldHRpbmdzLFxuICAgIGVkaXRQcm9maWxlUG9wdXAsXG4gICAgYWRkTmV3Q2FyZFBvcHVwLFxuICAgIGVkaXRQcm9maWxlQnV0dG9uLFxuICAgIG9wZW5BZGRGb3JtQnV0dG9uLFxuICAgIG5hbWVJbnB1dCxcbiAgICBhYm91dElucHV0LFxufSBmcm9tIFwiLi4vc2NyaXB0cy91dGlscy9zZXR0aW5ncy5qc1wiO1xuaW1wb3J0IGxvZ29TUkMgZnJvbSBcIi4uL2ltYWdlcy9sb2dvLnN2Z1wiO1xuaW1wb3J0IGF2YXRhclNSQyBmcm9tIFwiLi4vaW1hZ2VzL2F2YXRhci5qcGdcIjtcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4vKiA9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElNQUdFUyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSAqL1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbmNvbnN0IHBhZ2VMb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsb2dvXCIpO1xucGFnZUxvZ28uc3JjID0gbG9nb1NSQztcbmNvbnN0IHBhZ2VBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhclwiKTtcbnBhZ2VBdmF0YXIuc3JjID0gYXZhdGFyU1JDO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuLyogPSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGVU5DVElPTlMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gKi9cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmaWxsUHJvZmlsZUZvcm0oKSB7XG4gICAgY29uc3QgeyBuYW1lLCBhYm91dCB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgICBuYW1lSW5wdXQudmFsdWUgPSBuYW1lO1xuICAgIGFib3V0SW5wdXQudmFsdWUgPSBhYm91dDtcbn1cblxuLy8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUNSRUFURSBDQVJEIHdpdGggUE9QVVAgV0lUSCBJTUFHRS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLy9cbmV4cG9ydCBjb25zdCBjcmVhdGVDYXJkID0gKHsgbmFtZSwgbGluayB9KSA9PiB7XG4gICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgbGluayxcbiAgICAgICAgfSxcbiAgICAgICAgXCIjY2FyZC10ZW1wbGF0ZVwiLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICBpbWFnZVByZXZpZXcub3BlbihuYW1lLCBsaW5rKTtcbiAgICAgICAgfVxuICAgICk7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbn07XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4vKiA9ICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0xBU1MgSU5TVEFOQ0UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSAqL1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLy8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUZPUk1WQUxJREFUT1ItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy8vXG5cbmV4cG9ydCBjb25zdCBwcm9maWxlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICAgIGZvcm1WYWxpZGF0b3JEYXRhLFxuICAgIGVkaXRQcm9maWxlUG9wdXBcbik7XG5leHBvcnQgY29uc3QgY2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgICBmb3JtVmFsaWRhdG9yRGF0YSxcbiAgICBhZGROZXdDYXJkUG9wdXBcbik7XG5cbi8vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1VU0VSIElORk8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy8vXG5leHBvcnQgY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICAgIG5hbWVTZWxlY3RvcjogZm9ybVNldHRpbmdzLnByb2ZpbGVOYW1lU2VsZWN0b3IsXG4gICAgYWJvdXRTZWxlY3RvcjogZm9ybVNldHRpbmdzLnByb2ZpbGVBYm91dFNlbGVjdG9yLFxufSk7XG4vLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tUE9QVVAgV0lUSCBJTUFHRS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLy9cblxuZXhwb3J0IGNvbnN0IGltYWdlUHJldmlldyA9IG5ldyBQb3B1cFdpdGhJbWFnZSh7XG4gICAgcG9wdXBTZWxlY3RvcjogcG9wdXBJbWFnZVNldHRpbmdzLnBvcHVwUHJldmlld1NlbGVjdG9yLFxuICAgIGltYWdlU2VsZWN0b3I6IHBvcHVwSW1hZ2VTZXR0aW5ncy5wb3B1cEltYWdlU2VsZWN0b3IsXG4gICAgaW1hZ2VUaXRsZVNlbGVjdG9yOiBwb3B1cEltYWdlU2V0dGluZ3MucG9wdXBJbWFnZVRpdGxlU2VsZWN0b3IsXG59KTtcblxuLy8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tU0VDVElPTi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vL1xuXG5leHBvcnQgY29uc3QgY2FyZHNHYWxsZXJ5ID0gbmV3IFNlY3Rpb24oXG4gICAge1xuICAgICAgICBpdGVtczogaW5pdGlhbENhcmRzLFxuICAgICAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGNhcmRzR2FsbGVyeS5hZGRJdGVtKFxuICAgICAgICAgICAgICAgIGNyZWF0ZUNhcmQoe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGxpbms6IGl0ZW0ubGluayxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGVsZW1lbnRzU2V0dGluZ3MuY2FyZExpc3RTZWxlY3RvclxuKTtcbmNhcmRzR2FsbGVyeS5yZW5kZXJJdGVtcygpO1xuXG4vLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tUE9QVVAgRlJPTSBQUk9GSUxFLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vL1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICAgIGVsZW1lbnRzU2V0dGluZ3MuZWRpdFByb2ZpbGVTZWxlY3RvcixcbiAgICAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCB7IG5hbWUsIGFib3V0IH0gPSBwcm9maWxlUG9wdXAuZ2V0SW5wdXRWYWx1ZXMoKTtcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KTtcbiAgICAgICAgcHJvZmlsZVBvcHVwLmNsb3NlKCk7XG4gICAgfVxuKTtcblxuLy8gLy8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVBPUFVQIEZST00gQUREIE5FVyBDQVJELS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vL1xuZXhwb3J0IGNvbnN0IGNhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICAgIGVsZW1lbnRzU2V0dGluZ3MuYWRkTmV3Q2FyZFNlbGVjdG9yLFxuICAgIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHsgdGl0bGUsIGxpbmsgfSA9IGNhcmRQb3B1cC5nZXRJbnB1dFZhbHVlcygpO1xuICAgICAgICBjYXJkc0dhbGxlcnkuYWRkSXRlbShcbiAgICAgICAgICAgIGNyZWF0ZUNhcmQoe1xuICAgICAgICAgICAgICAgIG5hbWU6IHRpdGxlLFxuICAgICAgICAgICAgICAgIGxpbmssXG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBjYXJkUG9wdXAuY2xvc2UoKTtcbiAgICB9XG4pO1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4vKiA9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFVkVOVExJU1RFTkVSUyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSAqL1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZWRpdFByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBwcm9maWxlUG9wdXAub3BlbigpO1xuICAgIGZpbGxQcm9maWxlRm9ybSgpO1xuICAgIHByb2ZpbGVGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbm9wZW5BZGRGb3JtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgY2FyZEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gICAgY2FyZFBvcHVwLm9wZW4oKTtcbn0pO1xuXG5wcm9maWxlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5jYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4iLCJpbXBvcnQgeyBmb3JtU2V0dGluZ3MgfSBmcm9tIFwiLi4vdXRpbHMvc2V0dGluZ3MuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICAgIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBhYm91dFNlbGVjdG9yIH0pIHtcbiAgICAgICAgdGhpcy5fbmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX2Fib3V0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXRTZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgZ2V0VXNlckluZm8oKSB7XG4gICAgICAgIGNvbnN0IGluZm8gPSB7fTtcbiAgICAgICAgaW5mby5uYW1lID0gdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgICAgIGluZm8uYWJvdXQgPSB0aGlzLl9hYm91dEVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgICAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgICAgIHRoaXMuX2Fib3V0RWxlbWVudC50ZXh0Q29udGVudCA9IGFib3V0O1xuICAgIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGltYWdlU2VsZWN0b3IsIGltYWdlVGl0bGVTZWxlY3RvciB9KSB7XG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgICAgICB0aGlzLl9pbWFnZVNlbGVjdG9yID0gaW1hZ2VTZWxlY3RvcjtcbiAgICAgICAgdGhpcy5faW1hZ2VFbGVtZW50ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3Rvcih0aGlzLl9pbWFnZVNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5fdGl0bGVFbGVtZW50ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvciggaW1hZ2VUaXRsZVNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICBvcGVuKG5hbWUsIGxpbmspIHtcbiAgICAgICAgdGhpcy5faW1hZ2VFbGVtZW50LnNyYyA9IGxpbms7XG4gICAgICAgIHRoaXMuX3RpdGxlRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgICAgIHN1cGVyLm9wZW4oKTtcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmVuZGVySXRlbXMoKSB7XG4gICAgICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCIgY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcbiAgICAgICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS95b3NlbWl0ZS5qcGdcIixcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogXCJMYWtlIExvdWlzZVwiLFxuICAgICAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xha2UtbG91aXNlLmpwZ1wiLFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXG4gICAgICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvYmFsZC1tb3VudGFpbnMuanBnXCIsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxuICAgICAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xhdGVtYXIuanBnXCIsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXG4gICAgICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvdmFub2lzZS5qcGdcIixcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuICAgICAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xhZ28uanBnXCIsXG4gICAgfSxcbl07XG5cbmV4cG9ydCB7aW5pdGlhbENhcmRzfTsiXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJwIiwiRm9ybVZhbGlkYXRvciIsImNvbnN0cnVjdG9yIiwiZGF0YSIsImZvcm1FbGVtZW50IiwidGhpcyIsIl9mb3JtRWxlbWVudCIsIl9mb3JtU2VsZWN0b3IiLCJmb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9idXR0b24iLCJxdWVyeVNlbGVjdG9yIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXQiLCJfZXJyb3JFbGVtZW50IiwiaWQiLCJ0ZXh0Q29udGVudCIsInZhbGlkYXRpb25NZXNzYWdlIiwiY2xhc3NMaXN0IiwiYWRkIiwiX2hpZGVJbnB1dEVycm9yIiwicmVtb3ZlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGFzSW52YWxpZElucHV0Iiwic29tZSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsIl9zZXRFdmVudExpc3RlbmVycyIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiZW5hYmxlVmFsaWRhdGlvbiIsInJlc2V0VmFsaWRhdGlvbiIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImV2dCIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJfcG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsImRvY3VtZW50Iiwib3BlbiIsInNldEV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJfaGFuZGxlckNsaWNrQ2xvc2UiLCJfaGFuZGxlRXNjS2V5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlU3VibWl0IiwiX2lucHV0cyIsImdldElucHV0VmFsdWVzIiwidmFsdWVzIiwibmFtZSIsInZhbHVlIiwicmVzZXQiLCJmb3JtVmFsaWRhdG9yRGF0YSIsImVkaXRQcm9maWxlQnV0dG9uIiwib3BlbkFkZEZvcm1CdXR0b24iLCJlZGl0UHJvZmlsZVBvcHVwIiwiYWRkTmV3Q2FyZFBvcHVwIiwibmFtZUlucHV0IiwiYWJvdXRJbnB1dCIsIkNhcmQiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJsaW5rIiwiX2NhcmQiLCJfbGlrZUJ1dHRvbiIsInRvZ2dsZSIsIl90aXRsZSIsIl9pbWciLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9nZXRUZW1wbGF0ZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJnZW5lcmF0ZUNhcmQiLCJjYXJkVGl0bGUiLCJfY2FyZEltZyIsIl9kZWxldGVCdXR0b24iLCJzcmMiLCJhbHQiLCJfZGVsZXRlQ2FyZCIsIl9saWtlQ2FyZCIsImxvZ29TUkMiLCJhdmF0YXJTUkMiLCJjcmVhdGVDYXJkIiwiaW1hZ2VQcmV2aWV3IiwicHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJjYXJkRm9ybVZhbGlkYXRvciIsInVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiYWJvdXRTZWxlY3RvciIsIl9uYW1lRWxlbWVudCIsIl9hYm91dEVsZW1lbnQiLCJnZXRVc2VySW5mbyIsImluZm8iLCJhYm91dCIsInNldFVzZXJJbmZvIiwiaW1hZ2VTZWxlY3RvciIsImltYWdlVGl0bGVTZWxlY3RvciIsIl9pbWFnZVNlbGVjdG9yIiwiX2ltYWdlRWxlbWVudCIsIl90aXRsZUVsZW1lbnQiLCJjYXJkc0dhbGxlcnkiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwicmVuZGVySXRlbXMiLCJpdGVtIiwicHJvZmlsZVBvcHVwIiwicHJldmVudERlZmF1bHQiLCJjYXJkUG9wdXAiLCJ0aXRsZSIsImZpbGxQcm9maWxlRm9ybSJdLCJzb3VyY2VSb290IjoiIn0=